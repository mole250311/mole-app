
# PubMed ë…¼ë¬¸ ê²€ìƒ‰ ë° ë²ˆì—­ API ì„œë²„

## 1. í”„ë¡œì íŠ¸ ê°œìš” (Overview)

ì´ í”„ë¡œì íŠ¸ëŠ” **PubMed ë…¼ë¬¸ ê²€ìƒ‰ ë° í•œêµ­ì–´ ë²ˆì—­ ê¸°ëŠ¥**ì„ ì œê³µí•˜ëŠ” NLP API ì„œë²„ì…ë‹ˆë‹¤.  
ì‚¬ìš©ìëŠ” í‚¤ì›Œë“œ ê¸°ë°˜ìœ¼ë¡œ ë…¼ë¬¸ì„ ê²€ìƒ‰í•˜ê³ , ì´ˆë¡ ìš”ì•½ ë˜ëŠ” ì „ì²´ ë…¼ë¬¸ ì •ë³´ë¥¼ í•œêµ­ì–´ë¡œ ë²ˆì—­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
Flask ê¸°ë°˜ ì„œë²„ë¡œ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë©°, ì›¹/ì•±ê³¼ ì‰½ê²Œ ì—°ë™ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## 2. ì£¼ìš” ê¸°ëŠ¥ (Features)

- **ë…¼ë¬¸ ê²€ìƒ‰**: ì‚¬ìš©ìê°€ ì œê³µí•œ í‚¤ì›Œë“œ(query)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ PubMed ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë…¼ë¬¸ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤.
- **ìƒì„¸ ì •ë³´ ì¡°íšŒ**: ê²€ìƒ‰ëœ ë…¼ë¬¸ë“¤ì˜ PMIDë¥¼ ì´ìš©í•˜ì—¬ ì œëª©, ì´ˆë¡, ì €ì, ë°œí–‰ì¼, í•™ìˆ ì§€ ë“± ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
- **í•œêµ­ì–´ ë²ˆì—­**: ë…¼ë¬¸ ì œëª©, ì´ˆë¡, ì €ì ë“± ëª¨ë“  í•­ëª©ì„ í•œêµ­ì–´ë¡œ ë²ˆì—­í•©ë‹ˆë‹¤.
- **ì •ë ¬ ì˜µì…˜**: ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê´€ë ¨ì„±(`relevance`) ë˜ëŠ” ìµœì‹ ìˆœ(`latest`)ìœ¼ë¡œ ì •ë ¬ ê°€ëŠ¥.
- **ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ ì œí•œ**: í•œ ë²ˆì— ê°€ì ¸ì˜¬ ë…¼ë¬¸ ê°œìˆ˜ë¥¼ 1~10ê°œë¡œ ì¡°ì ˆ ê°€ëŠ¥.
- **API í‚¤ ì§€ì›**: NCBI E-utilities API í‚¤(`NCBI_API_KEY`)ë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì • ê°€ëŠ¥.

## 3. í”„ë¡œì íŠ¸ êµ¬ì¡° ë° íŒŒì¼ ì„¤ëª…

~~~shell
pubmed_translation_api/
â”œâ”€â”€ ğŸ“ app/
â”‚   â”œâ”€â”€ ğŸ“œ ë…¼ë¬¸.py           # PubMed ê²€ìƒ‰, ì´ˆë¡ ìš”ì•½, í‚¤ì›Œë“œ ì¶”ì¶œ ê¸°ëŠ¥
â”‚   â””â”€â”€ ğŸ“œ ë²ˆì—­.py           # ë…¼ë¬¸ ì œëª©/ì´ˆë¡/ì €ì ë“± í•œêµ­ì–´ ë²ˆì—­
â”œâ”€â”€ ğŸ“ utils/
â”‚   â””â”€â”€ ğŸ“œ helper.py         # ê³µí†µ ìœ í‹¸ í•¨ìˆ˜ (HTTP ìš”ì²­, ìºì‹± ë“±)
â”œâ”€â”€ ğŸ“ tests/
â”‚   â””â”€â”€ ğŸ“œ test_api.py       # API ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ ğŸ“œ .env                  # í™˜ê²½ ë³€ìˆ˜ (API í‚¤ ë“±)
â””â”€â”€ ğŸ“œ README.md             # í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ
~~~

### ì½”ë“œ ê¸°ëŠ¥ ì„¤ëª…

- **`ë…¼ë¬¸.py`**
  - PubMedì—ì„œ ë…¼ë¬¸ ì •ë³´ ê²€ìƒ‰
  - ë…¼ë¬¸ ì´ˆë¡ ìš”ì•½ (TextRank ê¸°ë°˜)
  - í‚¤ì›Œë“œ ì¶”ì¶œ
  - ê²€ìƒ‰ â†’ ìš”ì•½ â†’ ë²ˆì—­ê¹Œì§€ íŒŒì´í”„ë¼ì¸ êµ¬ì„± ê°€ëŠ¥

- **`ë²ˆì—­.py`**
  - ë…¼ë¬¸ ì œëª©, ì´ˆë¡, ì €ì, í•™ìˆ ì§€, ë°œí–‰ì¼ ë“± ëª¨ë“  í•­ëª© í•œêµ­ì–´ ë²ˆì—­
  - ë‹¤ì¤‘ ë¬¸ì¥ ë™ì‹œ ë²ˆì—­ ì§€ì›
  - `ë…¼ë¬¸.py`ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰ â†’ ìš”ì•½ â†’ ë²ˆì—­ê¹Œì§€ ì—°ê³„ ê°€ëŠ¥

- **`utils/helper.py`**
  - HTTP ì„¸ì…˜ ê´€ë¦¬
  - ë²ˆì—­ ìºì‹±(lru_cache) ì ìš©
  - ë³‘ë ¬ ì²˜ë¦¬(ThreadPoolExecutor) ì§€ì›

## 4. ì£¼ìš” ê¸°ìˆ  (Tech Stack)

- **Backend**: Flask
- **HTTP ìš”ì²­**: requests
- **ë²ˆì—­**: deep-translator (Google Translate)
- **ë³‘ë ¬ ì²˜ë¦¬**: concurrent.futures.ThreadPoolExecutor
- **ë°ì´í„° ì²˜ë¦¬**: Python standard library

## 5. API ì‚¬ìš©ë²• (How to Run)

### ì—”ë“œí¬ì¸íŠ¸

#### `GET /papers`

ë…¼ë¬¸ ê²€ìƒ‰ ë° ë²ˆì—­ ê²°ê³¼ë¥¼ JSONìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

**Query Parameters**

| ë§¤ê°œë³€ìˆ˜      | í•„ìˆ˜ ì—¬ë¶€ | ì„¤ëª…                                                      | ê¸°ë³¸ê°’      |
| :------------ | :------- | :-------------------------------------------------------- | :---------- |
| `query`       | **í•„ìˆ˜** | ê²€ìƒ‰í•  ë…¼ë¬¸ í‚¤ì›Œë“œ                                        | `(ì—†ìŒ)`    |
| `order`       | ì„ íƒ     | ê²€ìƒ‰ ê²°ê³¼ ì •ë ¬ ê¸°ì¤€ (`relevance` ë˜ëŠ” `latest`)           | `relevance` |
| `limit`       | ì„ íƒ     | ê°€ì ¸ì˜¬ ë…¼ë¬¸ ê°œìˆ˜ (1~10)                                  | `3`         |
| `translate`   | ì„ íƒ     | ë…¼ë¬¸ ë‚´ìš©ì„ í•œêµ­ì–´ë¡œ ë²ˆì—­í• ì§€ ì—¬ë¶€ (`true`/`false`)      | `false`     |

**ì‘ë‹µ ì˜ˆì‹œ (JSON)**

~~~json
{
  "query": "ê²€ìƒ‰ í‚¤ì›Œë“œ",
  "order": "ì •ë ¬ ê¸°ì¤€",
  "limit": "ê²°ê³¼ ê°œìˆ˜",
  "translate": "ë²ˆì—­ ì—¬ë¶€",
  "results": [
    {
      "pmid": "PMID",
      "title_en": "ì˜ì–´ ì œëª©",
      "title_ko": "í•œêµ­ì–´ ë²ˆì—­ ì œëª©",
      "abstract_en": "ì˜ì–´ ì´ˆë¡",
      "abstract_ko": "í•œêµ­ì–´ ë²ˆì—­ ì´ˆë¡",
      "authors_en": ["ì €ì 1", "ì €ì 2"],
      "authors_ko": ["ë²ˆì—­ëœ ì €ì 1", "ë²ˆì—­ëœ ì €ì 2"],
      "type": "ë…¼ë¬¸ ìœ í˜•",
      "journal": "í•™ìˆ ì§€",
      "published": "ë°œí–‰ì¼ (YYYY-MM-DD)",
      "pages": "í˜ì´ì§€",
      "link": "PubMed ë§í¬"
    }
  ]
}
~~~

> `title_ko`, `abstract_ko`, `authors_ko`ëŠ” `translate=true`ì¼ ê²½ìš°ì—ë§Œ í¬í•¨ë©ë‹ˆë‹¤.

## 6. ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

1. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
~~~bash
export NCBI_API_KEY=your_api_key_here
~~~

2. **ì˜ì¡´ì„± ì„¤ì¹˜**
~~~bash
pip install Flask requests deep-translator
~~~

3. **ì„œë²„ ì‹¤í–‰**
~~~bash
python app/main.py
~~~
ë˜ëŠ”
~~~bash
flask run
~~~

4. **API í…ŒìŠ¤íŠ¸**
- ë¸Œë¼ìš°ì €ì—ì„œ `http://127.0.0.1:5000/papers?query=example` ì ‘ì†
- ë˜ëŠ” Postman ë“±ìœ¼ë¡œ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
